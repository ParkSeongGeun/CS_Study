## 1.1 인터넷이란?

- 인터넷이란 뭘까?
    - 기본적인 하드웨어, 소프트웨어 구성요소를 기술하는 것
    - 혹은, `분산 애플리케이션`에 서비스를 제공하는 `네트워킹 infrastructure` 관점에서의 인터넷을 기술하는 것

둘다 무슨 소리에요...

### 1.1.1 구성요소로 본 인터넷

- 사물들(티비, 자동차.. etc)에 인터넷이 연결되고 있다.
    - 이러한 모든 장치를 인터넷 용어로 `호스트`(Host) 혹은 `종단 시스템`(end system)이라고 부름.

- 종단 시스템이 그래서 뭔데?
    - `통신 링크`(communication link)와 `패킷 스위치`(packet switch)의 네트워크로 연결됨.
        - 1.2절에서 살펴본다.
        <details>
        <summary>미리보기</summary>

        **통신 링크(Communication Link)**
        
        통신 링크는 두 장치가 데이터를 주고받을 수 있도록 연결해주는 물리적 또는 논리적 경로를 말합니다.
        쉽게 말해, 두 사람이 대화하려고 사용하는 전화선이나 무선 신호 같은 것입니다.
        예를 들어:
        - 유선 연결: 광섬유, 이더넷 케이블
        - 무선 연결: Wi-Fi, 블루투스
        
        이 통신 링크는 데이터를 전송하기 위해 전송 속도(대역폭)와 지연 시간 같은 성능 특성을 가지고 있습니다.
        
        ---
        
        **패킷 스위치(Packet Switch)**
        
        패킷 스위치는 데이터를 **작은 단위(패킷)**로 나눠서 보내고, 이를 목적지로 전달하는 역할을 하는 네트워크 장치입니다.
        쉽게 말해, 편지를 목적지로 보내는 우체국 직원 같은 역할을 합니다.
        
        작동 원리:
        1. 데이터를 여러 개의 작은 패킷으로 나눕니다.
           (각 패킷에는 데이터와 주소 정보가 포함됨)
        2. 패킷 스위치는 패킷을 가장 효율적인 경로로 목적지로 보냅니다.
        3. 목적지에서 패킷을 다시 조립해 원래 데이터를 복원합니다.
        
        예:
        - 라우터(Router)와 스위치(Switch)가 패킷 스위칭을 수행하는 대표적인 장치입니다.
        </details>
        <br>

    - 이러한 링크는 다양한 물리 매체로 구성됨.
        - 이때 각각의 링크들은 다양한 `전송률(transmission rate, 링크 대역폭)`을 이용
            - 전송률은 초당 비트 수를 의미하는 bps(bit per second) 단위를 사용
        - 한 end point 에서 다른 end point로 보낼 데이터를 갖고 있을 때, `송신 end point` 은 그 데이터를 `segment`로 나누고, 각 segment에 `헤더(header)`를 붙인다.
            - 이렇게 만들어진 정보 패키지는 컴퓨터 네트워크에서 `패킷(packet)`이라고 부른다.
            - packet은 목적지 end point로 네트워크를 통해 보내지고, 목적지에서 원래의 데이터로 다시 조립된다.

- 패킷 교환기(스위치)는 입력 통신 링크의 하나로:
    - 도착하는 패킷을 받아서 출력 통신 링크의 하나로 그 패킷을 전달.
    - 많은 형태와 특징이 있음.
        - 오늘 날 가장 널리 사용되는 2가지 종류
            - `라우터(router)`
                - 네트워크 코어에서 많이 사용
            - `링크 계층 스위치(link-layer switch)`
                - 접속 네트워크에서 많이 사용
        - 두 형태의 스위치는 최종 목적지 방향으로 패킷을 전달
    - 경로(route, path)
        - 패킷이 송신 end point 에서 수신 end point에 도달하는 동안 거쳐온 일련의 통신 링크 / 패킷 스위치

- 패킷 교환 네트워크
    - 고속도로 등의 수송 네트워크와 유사
        - 패킷: 트럭
        - 통신링크: 고속도로
        - 패킷 교환기(switch): 교차로
        - end point: 빌딩
    - 패킷은 컴퓨터 네트워크를 통한 경로를 따름

- end point는 ISP를 통해 인터넷에 접속
    - Internet Service Provider의 약자
    - `ISP`는 웹사이트, 비디오 서버를 인터넷에 직접 연결하도록 `CP`(Content Provider)에게 인터넷 접속을 제공
    - 인터넷은 end point를 서로 연결하는 것이므로 종단 시스템에 접속을 제공하는 ISP들도 서로 연결되어 있어야 한다.
        - 이러한 하위 계층 ISP는 국가 그리고 국제 상위 계층 ISP를 통해 서로 연결한다.
        - 이들 상위 계층 ISP들은 서로 직접 연결된다.
            - 상위 계층 ISP들은 광 링크로 연결된 고속 라우터로 구성
        - 각 ISP들은 따로 관리되고 IP 프로토콜을 수행하며, 네이밍과 주소배정 방식을 따름.

- end point, switch를 비롯한 인터넷의 다른 구성요소들은 인터넷에서 정보 송수신을 제어하는 여러 프로토콜(`protocol`)을 수행한다.
    <details>
    <summary>프로토콜이란?</summary>
    
    - **프로토콜**은 네트워크에서 데이터를 주고받을 때 사용하는 **규칙과 약속**입니다.
    - 사람들이 서로 대화할 때 공통 언어와 규칙이 필요한 것처럼, 컴퓨터와 네트워크 장치들이 통신하려면 지켜야 할 약속이 필요합니다.
    - 이 약속을 정리한 것이 **프로토콜**입니다.
    </details>

    - `TCP`, `IP`는 인터넷에서 가장 중요한 프로토콜!
        - Transmission Control Protocol
        - Internet Protocol
    - **프로토콜의 중요성을 감안할 때, 각각의 프로토콜 또는 모든 프로토콜이 무엇을 수행하는지에 대해 합의하는 것도 매우 중요하다.**
        - `그렇게 함으로써 사람들은 상호 호환되는 시스템과 제품을 만들 수 있는 것`
        - 이것이 표준을 만드는 이유.

<details>
<summary>구성요소 관점에서 본 인터넷 정리</summary>

인터넷을 구성요소 관점에서 설명하자면 다음과 같이 정리할 수 있습니다:

인터넷은 수많은 종단 시스템(end system/host)들이 통신 링크(communication link)와 패킷 스위치(packet switch)로 서로 연결된 네트워크입니다.

이때:

1. 종단 시스템은 컴퓨터, 스마트폰, TV 등 인터넷에 연결된 모든 장치를 의미하며, ISP를 통해 인터넷에 연결됩니다.
2. 통신 링크는 종단 시스템 간에 데이터를 전송하는 물리적 매체로, 각기 다른 전송률(bps)을 가집니다.
3. 패킷 스위치는:
    - 라우터나 링크 계층 스위치 같은 장치로
    - 송신 종단 시스템이 보낸 데이터를 패킷 단위로 받아서
    - 수신 종단 시스템을 향해 적절한 경로로 전달하는 역할을 합니다
4. 이 모든 구성요소들은 TCP/IP와 같은 표준화된 프로토콜을 따라 서로 통신합니다.

이러한 구성요소들이 모여 전 세계적으로 연결된 네트워크를 형성하고 있는 것이 바로 인터넷입니다.
</details>

### 1.1.2 서비스 측면에서 본 인터넷

- 앞서 본 것과 다른, 다른 관점에서도 인터넷을 기술할 수 있다.
    - 즉, 애플리케이션에 서비스를 제공하는 `Infrastructure`로서 인터넷을 기술할 수 있다.
    - 애플리케이션은 서로 데이터를 교환하는 많은 end point를 포함하고 있기 때문에 `분산 애플리케이션(distributed application)`이라고 부른다.
        - 인터넷 애플리케이션은 end point에서 수행된다.
            - 네트워크 코어에 있는 패킷 교환기에서 수행되지 않는다.
            - 패킷 교환기는 end point 간의 데이터 교환을 쉽게 해주지만, 이들은 데이터의 시작과 끝인 애플리케이션에는 관심을 갖지 않는다.
            <details>
            <summary>비유</summary>

            - 우체국(패킷 교환기)은 편지(데이터)를 배달만 한다.
            - 우체국 직원들은 편지를 읽거나 처리하지 않는다.
            - 편지를 실제로 읽고 처리하는 건 발신인과 수신인(end point)뿐이다.

            → 즉, 애플리케이션의 실제 동작은 모두 end point에서만 일어나고, 중간의 네트워크 장비들은 단순히 데이터 전달만 담당한다는 의미다.
            </details>

- 그래서 애플리케이션에 서비스를 제공하는 인프라스트럭처... 이게 무슨 뜻이지?
    - 애플리케이션은 end point에서 수행되기 때문에 end point에서 수행되는 프로그램을 개발해야 한다.
    - 우리는 분산 인터넷 애플리케이션을 개발하고 있기 때문에, 다른 end point에서 수행되는 프로그램은 서로에게 데이터를 송실할 필요가 있다.
        - 하나의 end point에서 수행되는 애플리케이션이 다른 end point에서 수행되고 있는 프로그램으로 데이터를 보내도록 인터넷에 어떻게 명령하지?

- 인터넷에 접속된 end point들은
    - 한 end point에서 수행되는 프로그램이
    - 어떻게 인터넷 infrastructure에 다른 end point에서 수행되는 특정 목적지 프로그램으로
    - 데이터를 전달하도록 요구하는지를 명시하는 소켓 인터페이스(socket interface)를 제공한다.
    
    > 소켓 인터페이스는 프로그램들이 인터넷을 통해 서로 데이터를 주고받을 수 있게 해주는 "규칙집"

### 1.1.3 프로토콜이란 무엇인가?

- 사람과 사람이 대화하는 상황을 들어보자.
    - **명확하게 송수신된 메시지와 이러한 메시지가 송수신될 때나 다른 상황이 발생했을 때 취하는 행동** 등이 바로 사람 프로토콜의 중심 역할을 한다.
    - 사람이 다른 프로토콜을 수행한다면 그 프로토콜은 상호작용할 수 없으며 원하는 작업을 수행할 수 없다.
        - 네트워킹도 이와 마찬가지.
    - 즉, 어떤 일을 수행하려면 둘 이상의 `통신 개체(entity)`가 함께 인식하는 프로토콜이 필요하다.

- **`네트워크 프로토콜`**
    - 메시지를 교환하고 행동을 취하는 개체가 장치들의 하드웨어나 소프트웨어 구성요소라는 점을 제외하면 네트워크 프로토콜은 사람 간의 프로토콜과 매우 비슷하다.
    - 통신하는 둘 이상의 원격 개체가 포함된 인터넷에서의 모든 활동은 프로토콜이 제어한다.
    - 웹 서버에 요청할 때, 웹페이지의 URL을 입력하면 어떤 일이 발생하는지 생각해보자.


- 앞에서 봤던 사람의 네트워킹 예처럼, 메시지 교환과 이러한 메시지를 송수신할 때 취한 행동은 프로토콜의 요소를 정의하는 주요인들이다.

> **`프로토콜`**은 둘 이상의 통신 개체 간에 교환되는 메시지 포맷과 순서뿐만 아니라, 메시지의 송수신과 다른 이벤트에 따른 행동들을 정의한다.